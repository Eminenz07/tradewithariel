{% extends 'cms/base_cms.html' %} {% block content %}
<div class="header">
  <h1>{% if product %}Edit{% else %}Add{% endif %} Offer</h1>
  <a href="{% url 'product_list' %}" class="btn">Back to List</a>
</div>

<div class="card" style="max-width: 600px">
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <label>Product Name</label>
    <input
      type="text"
      name="name"
      value="{{ product.name|default:'' }}"
      required
    />

    <label>Price (â‚¦)</label>
    <input
      type="number"
      step="0.01"
      name="price"
      value="{{ product.price|default:'' }}"
      required
    />

    <label>Description</label>
    <textarea name="description" rows="4" required>
{{ product.description|default:'' }}</textarea
    >

    <label>Current Image</label>
    {% if product and product.image %}
    <div style="margin-bottom: 1rem">
      <img
        src="{{ product.image.url }}"
        style="height: 100px; border-radius: 8px"
      />
    </div>
    <label>Change Image</label>
    {% endif %}
    <input type="file" name="image" />

    <label style="margin-top: 1rem">
      <input
        type="checkbox"
        name="is_active"
        style="width: auto"
        {%
        if
        not
        product
        or
        product.is_active
        %}checked{%
        endif
        %}
      />
      Active / Visible
    </label>

    <div style="margin-top: 1rem">
      <button type="submit" class="btn btn-accent">Save Offer</button>
    </div>
  </form>
</div>
{% endblock %}
